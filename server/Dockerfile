# В качестве исходного используем официальный образ  
# диспетчера процессов PM2 на базе ОС Alpine
FROM node:carbon

# Создаем рабочую директорию
WORKDIR /app

# Копируем в неё файлы package.json и package-lock.json
COPY package*.json ./

# Выполняем установку пакетов npm
RUN npm install

# Копируем остальные файлы приложения
COPY . ./

# Открываем наружу порт 5000
EXPOSE 5000

# Указываем команду, выполняемую при запуске контейнера
CMD [ "npm", "run", "server" ]